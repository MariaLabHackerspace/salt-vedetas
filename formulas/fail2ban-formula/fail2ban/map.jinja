{% set fail2ban = salt['grains.filter_by']({
    'Debian': {
        'package': 'fail2ban',
        'service': 'fail2ban',
        'prefix': '',
        'config': {},
        'jails': {},
        'actions': {},
        'filters': {},
    },
    'FreeBSD': {
        'package': 'py27-fail2ban',
        'service': 'fail2ban',
        'prefix': '/usr/local',
        'config': {},
        'jails': {},
        'actions': {},
        'filters': {},
    },
    'Gentoo': {
        'package': 'net-analyzer/fail2ban',
        'service': 'fail2ban',
        'prefix': '',
        'config': {},
        'jails': {},
        'actions': {},
        'filters': {},
    },
    'RedHat': {
        'package': 'fail2ban',
        'service': 'fail2ban',
        'prefix': '',
        'config': {},
        'jails': {},
        'actions': {},
        'filters': {},
    },
    'Arch': {
        'package': 'fail2ban',
        'service': 'fail2ban',
        'prefix': '',
        'config': {},
        'jails': {},
        'actions': {},
        'filters': {},
    },
}, merge=salt['pillar.get']('fail2ban:lookup')) %}
